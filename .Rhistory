'''{r}
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install()
BiocManager::install(vsn)
BiocManager::install("vsn")
BiocManager::install("affy")
`force=TRUE`
BiocManager::install("affy")
`force=TRUE`
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("affy")
BiocManager::install("affy")
import.celfile
install.packages("Downloads\\CustomCDF_1.0.5.zip.extension",
repos=NULL,type="source")
install.packages("Downloads\\CustomCDF_1.0.5.zip",
repos=NULL,type="source")
install.packages("Downloads\\affy_1.68.0.zip",
repos=NULL,type="source")
install.packages("Downloads\\affy.extension",
repos=NULL,type="source")
install.packages("Downloads\\affy",
repos=NULL,type="source")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install(version="3.14")
BiocManager::install("affy")
BiocManager::install("AnnotationDbi")
BiocManager::install("affy")
BiocManager::install("affy"), `force=TRUE`
BiocManager::install("affy")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager", force(TRUE))
BiocManager::install("affy")
BiocManager::install("ENST")
BiocManager::install("affy")
install.packages("~/Downloads/affy_1.68.0.zip", repos = NULL, type = "win.binary")
install.packages("~/Downloads/CustomCDF_1.0.5.zip", repos = NULL, type = "win.binary")
install.packages("~/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/affy/R/affy", repos = NULL)
BiocManager::install("ENST")
BiocManager::install("brainarray")
library(readr)
mart_export <- read_csv("~/Downloads/mart_export.txt")
View(mart_export)
read_csv(mart_export,col_names = TRUE,col_types = NULL,id = NULL,
locale = default_locale(),
na = c("", "NA"),
quoted_na = TRUE,
quote = "\"",
comment = "",
trim_ws = TRUE,
skip = 0,
n_max = Inf,
guess_max = min(1000, n_max),
name_repair = "unique",
num_threads = readr_threads(),
progress = show_progress(),
show_col_types = should_show_types(),
skip_empty_rows = TRUE,
lazy = should_read_lazy()
))
read_csv(mart_export,col_names = TRUE,col_types = NULL,id = NULL,
locale = default_locale(),
na = c("", "NA"),
quoted_na = TRUE,
quote = "\"",
comment = "",
trim_ws = TRUE,
skip = 0,
n_max = Inf,
guess_max = min(1000, n_max),
name_repair = "unique",
num_threads = readr_threads(),
progress = show_progress(),
show_col_types = should_show_types(),
skip_empty_rows = TRUE,
lazy = should_read_lazy()
)
read.table(mart_export)
table=read.csv(file = mart_export)
table=read.csv(file = Downlaods/mart_export.txt)
summary(mart_export)
View(mart_export)
mart_export <- read.table("~/Downloads/mart_export.txt", quote="\"")
View(mart_export)
`mart_export.(1)` <- read.delim("~/Downloads/mart_export (1).txt")
View(`mart_export.(1)`)
read.csv(`mart_export.(1)`)
install.packages(c("tidyverse", "ggpubr"))
install.packages("tidyverse")
install.packages("ggpubr")
install.packages(c("ggpubr", "tidyverse"))
library("tidyverse")
library("ggpubr")
tabel=read.csv(file="/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export (1).txt")
table=read.csv(file="/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export (1).txt")
View(tabel)
View(tabel)
table=read.csv(file="/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export (1).txt")
View(table)
View(table)
table=read.csv(file="/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export.txt")
View(table)
table=read.csv(file="/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export (1).txt")
View(table)
new_table=data.frame(
cbind(
geneID = table$Gene.stable.ID,
transID = table$Transcript.stable.ID,
trans_name = table$Transcript.name,
symbol = table$HGNC.symbol,
chrom = table$Chromosome.scaffold.name,
descr = table$Gene.description
)
)
View(new_table)
knitr::opts_chunk$set(echo = TRUE)
library(("tidyverse")
library("ggpubr")
library("tidyverse")
library("ggpubr")
table= read.csv(file = "/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export (2).txt")
View(table)
table= read.csv(file = "/Users/mariamhassan/Library/CloudStorage/OneDrive-bwedu/4.Fachsemester/2022-topic-04-team-04/project/rawdata/mart_export.txt")
new_table= data.frame(
cbind(
geneID = table$Gene.stable.ID,
transID = table$Transcript.stable.ID,
trans_name = table$Transcript.name,
symbol = table$HGNC.symbol,
chrom = table$Chromosome.scaffold.name,
descr = table$Gene.description
)
)
View(table)
table_IL= table %>% filter(grepl("^IL\\d+",symbol))
table_IL= table %>% filter(grepl("^IL\\d+",symbol))
new_table= data.frame(
cbind(
geneID = table$Gene.stable.ID,
transID = table$Transcript.stable.ID,
trans_name = table$Transcript.name,
symbol = table$HGNC.symbol,
chrom = table$Chromosome.scaffold.name,
descr = table$Gene.description
)
)
#muss aber sagen diese funktion macht nichts in unseren fall also kann man sparen
table_IL= new_table %>% filter(grepl("^IL\\d+",symbol))
table_IL=table_IL %>% filter(substr(chrom,1,2) != "HG")
View(table_IL)
try= table_IL %>% filter(substr(chrom,4,6) != "HG")
View(try)
table_IL= new_table %>% filter(grepl("^IL\\d+",symbol))
table_IL=table_IL %>% filter(substr(chrom,1,2) != "HG")
View(try)
View(try)
View(try)
View(table)
table_IL= new_table %>% filter(grepl("^IL\\d+",symbol))
table_IL=table_IL %>% filter(substr(chrom,1,2) != "HG")
#substr() function extrahiert
table_IL$chrom <- factor(
table_IL$chrom,
levels=c(1:22, "X", "Y"),
ordered = T
)
table_IL$chrom <- factor(
table_IL$chrom,
levels=c(1:22, "X", "Y"),
ordered = T
)
table_IL <- table_IL[order(table_IL$chrom), ]
fig1 <- ggplot(table_IL) +
geom_bar(aes(chrom), fill=rainbow(22)) +
scale_x_discrete("Chromosome", expand = expansion(add = c(1, 1))) +
scale_y_continuous("Number of IL-genes") +
labs(title = "IL-genes per chromosome")
View(fig1)
View(fig1)
fig1 <- ggplot(table_IL) +
geom_bar(aes(chrom), fill=rainbow(22)) +
scale_x_discrete("Chromosome", expand = expansion(add = c(1, 1))) +
scale_y_continuous("Number of IL-genes") +
labs(title = "IL-genes per chromosome")
fig2 <- ggplot(table_IL) +
geom_count(aes(symbol, chrom), colour=rainbow(96)) +
scale_x_discrete("Gene HGNC symbol", breaks = function(x){x[c(TRUE, FALSE)]}) +
scale_y_discrete("Chromosome") +
theme(axis.text.x = element_text(angle = 90)) +
labs(
title = "IL-genes chromosome position",
caption = "Some HGNC symbols were omitted due to crowding"
)
fig1 <- ggplot(table_IL) +
geom_bar(aes(chrom), fill=rainbow(22)) +
scale_x_discrete("Chromosome", expand = expansion(add = c(1, 1))) +
scale_y_continuous("Number of IL-genes") +
labs(title = "IL-genes per chromosome")
fig2 <- ggplot(table_IL) +
geom_count(aes(symbol, chrom), colour=rainbow(96)) +
scale_x_discrete("Gene HGNC symbol", breaks = function(x){x[c(TRUE, FALSE)]}) +
scale_y_discrete("Chromosome") +
theme(axis.text.x = element_text(angle = 90)) +
labs(
title = "IL-genes chromosome position",
caption = "Some HGNC symbols were omitted due to crowding"
)
fig <- ggarrange(fig1, fig2,
labels = c("A", "B"),
ncol = 1, nrow = 2)
fig1 <- ggplot(table_IL) +
geom_bar(aes(chrom), fill=rainbow(22)) +
scale_x_discrete("Chromosome", expand = expansion(add = c(1, 1))) +
scale_y_continuous("Number of IL-genes") +
labs(title = "IL-genes per chromosome")
fig2 <- ggplot(table_IL) +
geom_count(aes(symbol, chrom), colour=rainbow(96)) +
scale_x_discrete("Gene HGNC symbol", breaks = function(x){x[c(TRUE, FALSE)]}) +
scale_y_discrete("Chromosome") +
theme(axis.text.x = element_text(angle = 90)) +
labs(
title = "IL-genes chromosome position",
caption = "Some HGNC symbols were omitted due to crowding"
)
fig <- ggarrange(fig1, fig2,
labels = c("A", "B"),
ncol = 1, nrow = 23)
fig <- ggarrange(fig1, fig2,
labels = c("A", "B"),
ncol = 1, nrow = 2)
#
#
# Author: Ian Dirk Fichtner
# Email: ifichtner@protonmail.com
# Date: 12.08.2021
# R Course Tumoour Envirnoment @ Dr. Dinkelacker
# Exercise 2
#
#
# Import libraries
library("tidyverse")
library("ggpubr")
# Read table
table= read.csv(file="../../Raw-Data/ensembl_human_104.csv")
# Create column filtered table
new_table=data.frame(
cbind(
geneID = table$Gene.stable.ID,
transID = table$Transcript.stable.ID,
trans_name = table$Transcript.name,
symbol = table$HGNC.symbol,
chrom = table$Chromosome.scaffold.name,
descr = table$Gene.description
)
)
# Extract IL gene rows: filter rows by chromosome name
table_IL <- new_table %>% filter(grepl("^IL\\d+",symbol))
table_IL <- table_IL %>% filter(substr(chrom,1,2) != "HG")
# Factor chrom column to enable sorting
table_IL$chrom <- factor(
table_IL$chrom,
levels=c(1:22, "X", "Y"),
ordered = T
)
# Sort chrom column
table_IL <- table_IL[order(table_IL$chrom), ]
# Generate plots
# Figure 1: geom_bar
fig1 <- ggplot(table_IL) +
geom_bar(aes(chrom), fill=rainbow(22)) +
scale_x_discrete("Chromosome", expand = expansion(add = c(1, 1))) +
scale_y_continuous("Number of IL-genes") +
labs(title = "IL-genes per chromosome")
# Figure 2: geom_count
fig2 <- ggplot(table_IL) +
geom_count(aes(symbol, chrom), colour=rainbow(96)) +
scale_x_discrete("Gene HGNC symbol", breaks = function(x){x[c(TRUE, FALSE)]}) +
scale_y_discrete("Chromosome") +
theme(axis.text.x = element_text(angle = 90)) +
labs(
title = "IL-genes chromosome position",
caption = "Some HGNC symbols were omitted due to crowding"
)
# Create arranged figure
fig <- ggarrange(fig1, fig2,
labels = c("A", "B"),
ncol = 1, nrow = 2)
# Save figure
pdf("../../Plots/exercise_2_Ensembl_Il_genes.pdf", height=8, width = 10)
print(fig)
dev.off()
##### Save data #####
write.csv(table_IL, file="../../Tables/exercise_2_table_ILgenes.csv")
save.image("../RDA-Files/exercise_2.rda")
